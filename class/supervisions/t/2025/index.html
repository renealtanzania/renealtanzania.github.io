<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<link rel="shortcut icon" type="image/x-icon" href="/public/imgs/ren.ico">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Repairs Supervision Table - Reneal IEO</title>
<style>
  
  body, html {
    margin: 0;
    padding: 0;
    font-family: Arial, sans-serif;
    background: none;
    color: #000;
  }
  h1 {
    text-align: center;
    margin: 1rem 0;
  }
  .container {
    max-width: 1000px;
    margin: 0 auto;
    padding: 1rem;
    overflow-x: auto;
  }
  /* Table style */
  table {
    border-collapse: collapse;
    width: 100%;
    min-width: 800px;
  }
  th, td {
    border: 1px solid #000;
    padding: 0.5rem;
    text-align: left;
  }
  th {
    font-weight: bold;
  }
  /* Filter inputs */
  .filters input {
    width: 100%;
    box-sizing: border-box;
    padding: 0.25rem;
    border: 1px solid #444;
    border-radius: 2px;
    font-size: 0.9rem;
  }
  /* Responsive mobile view */
  @media (max-width: 640px) {
    table, thead, tbody, th, td, tr {
      display: block;
    }
    thead tr {
      display: none;
    }
    tbody tr {
      margin-bottom: 1rem;
      border: 1px solid #444;
      border-radius: 4px;
      padding: 0.5rem;
    }
    tbody tr td {
      border: none;
      padding-left: 45%;
      position: relative;
      text-align: left;
      white-space: normal;
      word-wrap: break-word;
    }
    tbody tr td::before {
      position: absolute;
      left: 0.5rem;
      top: 0.5rem;
      white-space: nowrap;
      font-weight: bold;
      content: attr(data-label);
    }
    .filters {
      display: none; /* Hide filter inputs on mobile to simplify */
    }
  }
  /* Print button */
  .print-button {
    margin-bottom: 1rem;
    padding: 0.5rem 1rem;
    font-size: 1rem;
    cursor: pointer;
    background: none;
    border: 1px solid #000;
    border-radius: 3px;
  }
  .print-button:focus {
    outline: 2px solid #000;
  }
</style>
</head>
<body>

<h1>Repair Supervision Records</h1>
<div class="container">
  <button class="print-button" onclick="window.print()">Print Table</button>
  <table id="repairsTable">
    <thead>
      <tr class="filters">
        <th><input type="text" data-column="0" placeholder="Filter Student" /></th>
        <th><input type="text" data-column="1" placeholder="Filter No" /></th>
        <th><input type="text" data-column="2" placeholder="Filter Level" /></th>
        <th><input type="text" data-column="3" placeholder="Filter Task" /></th>
        <th><input type="text" data-column="4" placeholder="Filter Item ID" /></th>
        <th><input type="text" data-column="5" placeholder="Filter School Item" /></th>
        <th><input type="text" data-column="6" placeholder="Filter Repair Status" /></th>
        <th><input type="text" data-column="7" placeholder="Filter Date" /></th>
        <th><input type="text" data-column="8" placeholder="Filter Year" /></th>
      </tr>
      <tr>
        <th>Student</th>
        <th>No</th>
        <th>Level</th>
        <th>Task</th>
        <th>Item ID</th>
        <th>School Item</th>
        <th>Repair Status</th>
        <th>Date</th>
        <th>Year</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
</div>

<script>
  const data = [
    {"Student":"John Doe","No":"1","Level":"Degree","Task":"Replace CMOS battery","Item ID":"AS503","School Item":"Mlangarini","Repair Status":"Completed","Date":"21-07-2025","Year":"2025"},
    {"Student":"John Doe","No":"2","Level":"Degree","Task":"Repair Screen","Item ID":"AS73","School Item":"Sokon2","Repair Status":"Pending","Date":"21-07-2025","Year":"2025"},
    {"Student":"John Doe","No":"3","Level":"Degree","Task":"Repair Keyboard","Item ID":"AS57","School Item":"Mwandet","Repair Status":"Completed","Date":"22-07-2025","Year":"2025"},
    {"Student":"Alop Denkings","No":"1","Level":"Degree","Task":"Replace CMOS battery","Item ID":"AS145","School Item":"Einoti","Repair Status":"Completed","Date":"23-07-2025","Year":"2025"},
    {"Student":"Jaul Tralo","No":"1","Level":"Diploma","Task":"Repair Power Supply","Item ID":"AS23","School Item":"Nkoarusambu","Repair Status":"Completed","Date":"24-07-2025","Year":"2025"},
    {"Student":"Jaul Tralo","No":"2","Level":"Diploma","Task":"Internal Blowing","Item ID":"AS34","School Item":"Enduimet","Repair Status":"Pending","Date":"25-07-2025","Year":"2025"},
    {"Student":"Castle Erim","No":"1","Level":"Diploma","Task":"Repair Mouse","Item ID":"AS623","School Item":"Kikwe","Repair Status":"Completed","Date":"24-07-2025","Year":"2025"},
    {"Student":"Castle Erim","No":"2","Level":"Diploma","Task":"Internal Blowing","Item ID":"AS27","School Item":"Dareda","Repair Status":"Pending","Date":"25-07-2025","Year":"2025"},
    {"Student":"Prodol Zoe","No":"1","Level":"Diploma","Task":"Replace CMOS battery","Item ID":"AS48","School Item":"Bagara","Repair Status":"Completed","Date":"23-07-2025","Year":"2025"},
    {"Student":"Brenda Podul","No":"1","Level":"Diploma","Task":"Repair Mouse","Item ID":"AS42","School Item":"Nangara","Repair Status":"Completed","Date":"24-07-2025","Year":"2025"},
    {"Student":"Brenda Podul","No":"2","Level":"Diploma","Task":"RAM Cleaning","Item ID":"AS27","School Item":"Dareda","Repair Status":"Pending","Date":"25-07-2025","Year":"2025"}
  ];

  function populateTable(filteredData) {
    const tbody = document.querySelector('#repairsTable tbody');
    tbody.innerHTML = '';
    filteredData.forEach(row => {
      const tr = document.createElement('tr');
      ['Student','No','Level','Task','Item ID','School Item','Repair Status','Date','Year'].forEach(key => {
        const td = document.createElement('td');
        td.setAttribute('data-label', key);
        td.textContent = row[key];
        tr.appendChild(td);
      });
      tbody.appendChild(tr);
    });
  }

  function applyFilters() {
    const filters = document.querySelectorAll('.filters input');
    let filtered = data;
    filters.forEach(input => {
      const col = parseInt(input.dataset.column);
      const val = input.value.trim().toLowerCase();
      if (val) {
        filtered = filtered.filter(row => {
          const cell = Object.values(row)[col].toLowerCase();
          return cell.includes(val);
        });
      }
    });
    populateTable(filtered);
  }

  document.querySelectorAll('.filters input').forEach(input => {
    input.addEventListener('input', applyFilters);
  });

  // Initial table load
  populateTable(data);
</script>

</body>
</html>
