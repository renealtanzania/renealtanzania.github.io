<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" type="image/x-icon" href="/public/imgs/ren.ico">
    <title>Computer Lab Stats Tracker</title>
    <script src="/public/css/script/tailwindcss3417.js"></script>
    <style>
        .school-card {
            transition: all 0.3s ease;
        }
        .school-card:hover {
            transform: translateY(-2px);
        }
        .info-section {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }
        .info-section.active {
            max-height: 2000px;
        }
        .pagination-btn {
            transition: all 0.2s ease;
        }
        .pagination-btn:hover:not(:disabled) {
            transform: scale(1.05);
        }
        .pagination-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen">
    <!-- Header -->
    <header class="bg-white shadow-md sticky top-0 z-50">
        <div class="container mx-auto px-4 py-4">
            <div class="flex flex-col md:flex-row md:items-center md:justify-between">
                <h1 class="text-2xl md:text-3xl font-bold text-indigo-700 mb-2 md:mb-0">
                    üñ•Ô∏è Computer Lab Stats Tracker
                </h1>
                <div class="flex items-center space-x-4">
                    <input 
                        type="text" 
                        id="searchInput" 
                        placeholder="Search schools..." 
                        class="px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 w-full md:w-64"
                    >
                    <select id="filterSelect" class="px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500">
                        <option value="all">All Schools</option>
                        <option value="excellent">Excellent</option>
                        <option value="good">Good</option>
                        <option value="medium">Medium</option>
                        <option value="low">Low</option>
                        <option value="bad">Bad</option>
                        <option value="verybad">Very Bad</option>

                    </select>
                </div>
            </div>
        </div>
    </header>

    <div class="mt-4 mb-2 text-center">
        Last Updated: <span>10 <sup>th</sup> January 2026</span> -<span> 14:00 EAT</span>
    </div>

    <!-- Stats Overview -->
    <div class="container mx-auto px-4 py-6">
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
            <div class="bg-white rounded-lg shadow-md p-6">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-gray-500 text-sm">Total Schools</p>
                        <p class="text-3xl font-bold text-indigo-600" id="totalSchools">98</p>
                    </div>
                    <div class="text-4xl">üè´</div>
                </div>
            </div>
            <div class="bg-white rounded-lg shadow-md p-6">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-gray-500 text-sm">Active Reports</p>
                        <p class="text-3xl font-bold text-green-600">950</p>
                    </div>
                    <div class="text-4xl">üìä</div>
                </div>
            </div>
            <div class="bg-white rounded-lg shadow-md p-6">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-gray-500 text-sm">Current Page</p>
                        <p class="text-3xl font-bold text-blue-600" id="currentPageDisplay">1</p>
                    </div>
                    <div class="text-4xl">üìÑ</div>
                </div>
            </div>
            <div class="bg-white rounded-lg shadow-md p-6">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-gray-500 text-sm">Total Pages</p>
                        <p class="text-3xl font-bold text-purple-600" id="totalPages">5</p>
                    </div>
                    <div class="text-4xl">üìö</div>
                </div>
            </div>
        </div>

        <!-- Schools Grid -->
        <div id="schoolsContainer" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
            <!-- Schools will be dynamically generated here -->
        </div>

        <!-- Pagination Controls -->
        <div class="flex flex-col sm:flex-row items-center justify-between bg-white rounded-lg shadow-md p-4 gap-4">
            <div class="text-sm text-gray-600">
                Showing <span id="showingStart" class="font-semibold">1</span> to <span id="showingEnd" class="font-semibold">15</span> of <span id="totalSchoolsText" class="font-semibold">75</span> schools
            </div>
            
            <div class="flex items-center space-x-2">
                <button onclick="goToPage(1)" class="pagination-btn px-3 py-2 bg-indigo-100 text-indigo-700 rounded-lg hover:bg-indigo-200 font-medium text-sm" id="firstBtn">
                    First
                </button>
                <button onclick="previousPage()" class="pagination-btn px-3 py-2 bg-indigo-100 text-indigo-700 rounded-lg hover:bg-indigo-200 font-medium text-sm" id="prevBtn">
                    Previous
                </button>
                
                <div class="flex items-center space-x-1" id="pageNumbers">
                    <!-- Page numbers will be inserted here -->
                </div>
                
                <button onclick="nextPage()" class="pagination-btn px-3 py-2 bg-indigo-100 text-indigo-700 rounded-lg hover:bg-indigo-200 font-medium text-sm" id="nextBtn">
                    Next
                </button>
                <button onclick="goToPage(totalPagesCount)" class="pagination-btn px-3 py-2 bg-indigo-100 text-indigo-700 rounded-lg hover:bg-indigo-200 font-medium text-sm" id="lastBtn">
                    Last
                </button>
            </div>
        </div>
    </div>

    <script>
        const schools = [
            { name: "Amani Abeid Karume", status: "excellent", schoolrank: 1, id: 1, urls: {
                report1: "/include/school-reports/reports/2026/abkarume/report1.pdf",
                report2: "/include/school-reports/reports/2026/abkarume/report2.pdf",
                midterm1: "/include/school-reports/reports/2026/abkarume/midterm1.pdf",
                terminal1: "/include/school-reports/reports/2026/abkarume/terminal1.pdf",
                apache_full: "/include/school-reports/reports/2026/abkarume/logs/apache-full.html",
                apache_7days: "/include/school-reports/reports/2026/abkarume/logs/apache-7days.html",
                squid_full: "/include/school-reports/reports/2026/abkarume/logs/squid-full.html",
                squid_7days: "/include/school-reports/reports/2026/abkarume/logs/squid-7days.html"
            }},
            { name: "Einoti Secondary School", status: "excellent", schoolrank: 2, id: 2, urls: {
                report1: "/include/school-reports/reports/2026/einoti/report1.pdf",
                report2: "/include/school-reports/reports/2026/einoti/report2.pdf",
                midterm1: "/include/school-reports/reports/2026/einoti/midterm1.pdf",
                terminal1: "/include/school-reports/reports/2026/einoti/terminal1.pdf",
                apache_full: "/include/school-reports/reports/2026/einoti/logs/apache-full.html",
                apache_7days: "/include/school-reports/reports/2026/einoti/logs/apache-7days.html",
                squid_full: "/include/school-reports/reports/2026/einoti/logs/squid-full.html",
                squid_7days: "/include/school-reports/reports/2026/einoti/logs/squid-7days.html"
            }},
            { name: "Florian Secondary School", status: "excellent", schoolrank: 3, id: 3, urls: {
                report1: "/include/school-reports/reports/2026/florian/report1.pdf",
                report2: "/include/school-reports/reports/2026/florian/report2.pdf",
                midterm1: "/include/school-reports/reports/2026/florian/midterm1.pdf",
                terminal1: "/include/school-reports/reports/2026/florian/terminal1.pdf",
                webdev1: "/include/school-reports/reports/2026/florian/logs/webdev1.html",
                webdev2: "/include/school-reports/reports/2026/florian/logs/webdev2.html",
                apache_full: "/include/school-reports/reports/2026/florian/logs/apache-full.html",
                apache_7days: "/include/school-reports/reports/2026/florian/logs/apache-7days.html",
                squid_full: "/include/school-reports/reports/2026/florian/logs/squid-full.html",
                squid_7days: "/include/school-reports/reports/2026/florian/logs/squid-7days.html"
            }},
     
    
            
        ];

        let currentPage = 1;
        const schoolsPerPage = 24;
        let filteredSchools = [...schools];
        let totalPagesCount = Math.ceil(schools.length / schoolsPerPage);

        function getStatusColor(status) {
            const colors = {
                excellent: 'bg-green-100 text-green-800',
                good: 'bg-blue-100 text-blue-800',
                medium: 'bg-yellow-100 text-yellow-800',
                low: 'bg-purple-100 text-purple-800',
                bad: 'bg-red-100 text-red-800',
                verybad: 'bg-red-100 text-purple-800'


            };
            return colors[status] || 'bg-gray-100 text-gray-800';
        }

        function getStatusBorder(status) {
            const borders = {
                excellent: 'border-l-4 border-green-500',
                good: 'border-l-4 border-blue-500',
                medium: 'border-l-4 border-yellow-500',
                low: 'border-l-4 border-pink-500',
                bad: 'border-l-4 border-red-500',
                verybad: 'border-l-4 border-purple-500'



            };
            return borders[status] || 'border-l-4 border-gray-500';
        }

        function generateSchoolCard(school, index) {
            const statusColor = getStatusColor(school.status);
            const statusBorder = getStatusBorder(school.status);
            
            return `
                <div class="school-card bg-white rounded-lg shadow-md overflow-hidden ${statusBorder}" data-status="${school.status}" data-name="${school.name.toLowerCase()}">
                    <div class="p-6">
                        <div class="flex justify-between items-start mb-4">
                            <h3 class="text-xl font-bold text-gray-800">${school.name}</h3>
                            <span class="px-3 py-1 rounded-full text-xs font-semibold ${statusColor}">
                                ${school.status.toUpperCase()}
                            </span>
                        </div>
                        
                        <div class="mb-4">
                            <div class="flex justify-between items-center">
                                <span class="text-gray-600">School Rank (2024) :</span>
                                <span class="font-semibold text-indigo-600">${school.schoolrank}</span>
                            </div>
                        </div>

                        <!-- Report Links -->
                        <div class="grid grid-cols-2 gap-2 mb-3">
                            <button onclick="toggleInfo(${index}, 'report1')" class="info-btn px-3 py-2 bg-indigo-50 text-indigo-700 rounded-lg hover:bg-indigo-100 transition text-sm font-medium">
                                üìÑ Report 1
                            </button>
                            <button onclick="toggleInfo(${index}, 'report2')" class="info-btn px-3 py-2 bg-purple-50 text-purple-700 rounded-lg hover:bg-purple-100 transition text-sm font-medium">
                                üìÑ Report 2 - Collection of Below
                            </button>
                            <button onclick="toggleInfo(${index}, 'midterm1')" class="info-btn px-3 py-2 bg-green-50 text-green-700 rounded-lg hover:bg-green-100 transition text-sm font-medium">
                                üìù Apache (90D)
                            </button>
                            <button onclick="toggleInfo(${index}, 'terminal1')" class="info-btn px-3 py-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition text-sm font-medium">
                                üìä Apache (215D)
                            </button> 
                            <button onclick="toggleInfo(${index}, 'webdev1')" class="info-btn px-3 py-2 bg-green-50 text-green-700 rounded-lg hover:bg-green-100 transition text-sm font-medium">
                                üìù Webdev (90D)
                            </button>
                            <button onclick="toggleInfo(${index}, 'webdev2')" class="info-btn px-3 py-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition text-sm font-medium">
                                üìä Webdev (215D)
                            </button>     
                            <button onclick="toggleInfo(${index}, 'apache_full')" class="info-btn px-3 py-2 bg-red-50 text-red-700 rounded-lg hover:bg-red-100 transition text-sm font-medium">
                                üî¥ Apache Full Year
                            </button>
                            <button onclick="toggleInfo(${index}, 'apache_7days')" class="info-btn px-3 py-2 bg-orange-50 text-orange-700 rounded-lg hover:bg-orange-100 transition text-sm font-medium">
                                üü† Apache Last 7D
                            </button>
                            <button onclick="toggleInfo(${index}, 'squid_full')" class="info-btn px-3 py-2 bg-teal-50 text-teal-700 rounded-lg hover:bg-teal-100 transition text-sm font-medium">
                                üîµ Squid Full (WebDev) 
                            </button>
                            <button onclick="toggleInfo(${index}, 'squid_7days')" class="info-btn px-3 py-2 bg-emerald-50 text-emerald-700 rounded-lg hover:bg-emerald-100 transition text-sm font-medium">
                                üü¢ Squid Full (Internet) / Optional
                            </button>
                        </div>

                        <!-- Info Sections -->
                        <div id="info-${index}-report1" class="info-section">
                            <div class="bg-indigo-50 rounded-lg p-4 mt-2">
                                <h4 class="font-semibold text-indigo-900 mb-2">Report 1</h4>
                                <ul class="text-sm text-gray-700 space-y-1">
                                    <li>‚Ä¢ <a href="${school.urls.report1}" class="text-indigo-600 hover:underline" target="_blank">Download PDF</a></li>
                                </ul>
                            </div>
                        </div>

                        <div id="info-${index}-report2" class="info-section">
                            <div class="bg-purple-50 rounded-lg p-4 mt-2">
                                <h4 class="font-semibold text-purple-900 mb-2">Report 2</h4>
                                <ul class="text-sm text-gray-700 space-y-1">
                                    <li>‚Ä¢ <a href="${school.urls.report2}" class="text-purple-600 hover:underline" target="_blank">Download PDF</a></li>
                                </ul>
                            </div>
                        </div>

                        <div id="info-${index}-midterm1" class="info-section">
                            <div class="bg-green-50 rounded-lg p-4 mt-2">
                                <h4 class="font-semibold text-green-900 mb-2">Mid-term 1 Results</h4>
                                <ul class="text-sm text-gray-700 space-y-1">
                                    <li>‚Ä¢ <a href="${school.urls.midterm1}" class="text-green-600 hover:underline" target="_blank">View Details</a></li>
                                </ul>
                            </div>
                        </div>

                        <div id="info-${index}-terminal1" class="info-section">
                            <div class="bg-blue-50 rounded-lg p-4 mt-2">
                                <h4 class="font-semibold text-blue-900 mb-2">Terminal 1 Results</h4>
                                <ul class="text-sm text-gray-700 space-y-1">
                                    <li>‚Ä¢ <a href="${school.urls.terminal1}" class="text-blue-600 hover:underline" target="_blank">View Details</a></li>
                                </ul>
                            </div>
                        </div>

                        <div id="info-${index}-webdev1" class="info-section">
                            <div class="bg-green-50 rounded-lg p-4 mt-2">
                                <h4 class="font-semibold text-green-900 mb-2">WebDev 1 Results</h4>
                                <ul class="text-sm text-gray-700 space-y-1">
                                    <li>‚Ä¢ <a href="${school.urls.webdev1}" class="text-green-600 hover:underline" target="_blank">View Details</a></li>
                                </ul>
                            </div>
                        </div>

                        <div id="info-${index}-webdev2" class="info-section">
                            <div class="bg-blue-50 rounded-lg p-4 mt-2">
                                <h4 class="font-semibold text-blue-900 mb-2">WebDev 2 Results</h4>
                                <ul class="text-sm text-gray-700 space-y-1">
                                    <li>‚Ä¢ <a href="${school.urls.webdev2}" class="text-blue-600 hover:underline" target="_blank">View Details</a></li>
                                </ul>
                            </div>
                        </div>


                        <div id="info-${index}-apache_full" class="info-section">
                            <div class="bg-red-50 rounded-lg p-4 mt-2">
                                <h4 class="font-semibold text-red-900 mb-2">Apache Full Log</h4>
                                <ul class="text-sm text-gray-700 space-y-1">
                                    <li>‚Ä¢ <a href="${school.urls.apache_full}" class="text-red-600 hover:underline" target="_blank">View Full Log</a></li>
                                </ul>
                            </div>
                        </div>

                        <div id="info-${index}-apache_7days" class="info-section">
                            <div class="bg-orange-50 rounded-lg p-4 mt-2">
                                <h4 class="font-semibold text-orange-900 mb-2">Apache Last 7 Days</h4>
                                <ul class="text-sm text-gray-700 space-y-1">
                                    <li>‚Ä¢ <a href="${school.urls.apache_7days}" class="text-orange-600 hover:underline" target="_blank">View Log</a></li>
                                </ul>
                            </div>
                        </div>

                        <div id="info-${index}-squid_full" class="info-section">
                            <div class="bg-teal-50 rounded-lg p-4 mt-2">
                                <h4 class="font-semibold text-teal-900 mb-2">Squid Full Log</h4>
                                <ul class="text-sm text-gray-700 space-y-1">
                                    <li>‚Ä¢ <a href="${school.urls.squid_full}" class="text-teal-600 hover:underline" target="_blank">View Full Log</a></li>
                                </ul>
                            </div>
                        </div>

                        <div id="info-${index}-squid_7days" class="info-section">
                            <div class="bg-emerald-50 rounded-lg p-4 mt-2">
                                <h4 class="font-semibold text-emerald-900 mb-2">Squid Last 7 Days</h4>
                                <ul class="text-sm text-gray-700 space-y-1">
                                    <li>‚Ä¢ <a href="${school.urls.squid_7days}" class="text-emerald-600 hover:underline" target="_blank">View Log</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderSchools() {
            const startIndex = (currentPage - 1) * schoolsPerPage;
            const endIndex = startIndex + schoolsPerPage;
            const schoolsToShow = filteredSchools.slice(startIndex, endIndex);
            
            const container = document.getElementById('schoolsContainer');
            container.innerHTML = schoolsToShow.map((school, index) => 
                generateSchoolCard(school, startIndex + index)
            ).join('');
            
            updatePaginationInfo();
            updatePaginationControls();
        }

        function updatePaginationInfo() {
            const startIndex = (currentPage - 1) * schoolsPerPage + 1;
            const endIndex = Math.min(currentPage * schoolsPerPage, filteredSchools.length);
            
            document.getElementById('showingStart').textContent = startIndex;
            document.getElementById('showingEnd').textContent = endIndex;
            document.getElementById('totalSchoolsText').textContent = filteredSchools.length;
            document.getElementById('currentPageDisplay').textContent = currentPage;
            document.getElementById('totalPages').textContent = totalPagesCount;
        }

        function updatePaginationControls() {
            const pageNumbersContainer = document.getElementById('pageNumbers');
            pageNumbersContainer.innerHTML = '';
            
            // Calculate page range to show
            let startPage = Math.max(1, currentPage - 2);
            let endPage = Math.min(totalPagesCount, currentPage + 2);
            
            // Adjust if we're near the beginning or end
            if (currentPage <= 3) {
                endPage = Math.min(5, totalPagesCount);
            }
            if (currentPage >= totalPagesCount - 2) {
                startPage = Math.max(1, totalPagesCount - 4);
            }
            
            for (let i = startPage; i <= endPage; i++) {
                const pageBtn = document.createElement('button');
                pageBtn.textContent = i;
                pageBtn.onclick = () => goToPage(i);
                pageBtn.className = `pagination-btn px-3 py-2 rounded-lg font-medium text-sm ${
                    i === currentPage 
                        ? 'bg-indigo-600 text-white' 
                        : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                }`;
                pageNumbersContainer.appendChild(pageBtn);
            }
            
            // Enable/disable navigation buttons
            document.getElementById('firstBtn').disabled = currentPage === 1;
            document.getElementById('prevBtn').disabled = currentPage === 1;
            document.getElementById('nextBtn').disabled = currentPage === totalPagesCount;
            document.getElementById('lastBtn').disabled = currentPage === totalPagesCount;
        }

        function goToPage(pageNum) {
            currentPage = pageNum;
            renderSchools();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function nextPage() {
            if (currentPage < totalPagesCount) {
                currentPage++;
                renderSchools();
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }

        function previousPage() {
            if (currentPage > 1) {
                currentPage--;
                renderSchools();
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }

        function toggleInfo(schoolIndex, infoType) {
            const infoSection = document.getElementById(`info-${schoolIndex}-${infoType}`);
            
            // Close all other info sections in this school card
            const allInfoSections = document.querySelectorAll(`[id^="info-${schoolIndex}-"]`);
            allInfoSections.forEach(section => {
                if (section.id !== `info-${schoolIndex}-${infoType}`) {
                    section.classList.remove('active');
                }
            });
            
            // Toggle current section
            infoSection.classList.toggle('active');
        }

        // Search functionality
        document.getElementById('searchInput').addEventListener('input', function(e) {
            const searchTerm = e.target.value.toLowerCase();
            filteredSchools = schools.filter(school => 
                school.name.toLowerCase().includes(searchTerm)
            );
            totalPagesCount = Math.ceil(filteredSchools.length / schoolsPerPage);
            currentPage = 1;
            renderSchools();
        });

        // Filter functionality
        document.getElementById('filterSelect').addEventListener('change', function(e) {
            const filterValue = e.target.value;
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            
            filteredSchools = schools.filter(school => {
                const matchesSearch = school.name.toLowerCase().includes(searchTerm);
                const matchesFilter = filterValue === 'all' || school.status === filterValue;
                return matchesSearch && matchesFilter;
            });
            
            totalPagesCount = Math.ceil(filteredSchools.length / schoolsPerPage);
            currentPage = 1;
            renderSchools();
        });

        // Initialize
        renderSchools();
    </script>
</body>
</html>
