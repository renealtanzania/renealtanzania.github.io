[master@main-server] ~/Desktop 
❯ cd ~/CodeDevelopment/newSystemBuild 

[master@main-server] ~/CodeDevelopment/newSystemBuild 
❯ ls
classCopyByChecksum.py               __init__.py                  __pycache__
cleanupForInstall.sh                 installs.ini                 rebuildServerPart1.py
configureNetworkInterfaces.py        interfaceBuildPlanning.vym   rebuildServerPart2.py
configureWirelessInternet.py         interfacesFiles              sd_only
copyByChecksum.py                    localFunctions.py            serverBuildLib.py
copyToAllOS.py                       makeServer.py                setupForPimaryOrSecondary.py
createAllNumberedTeacherAccounts.sh  multiprocessing              tester.py
EFI                                  obsolete                     ud.sh
findNewerDisk.py                     persistent_net_template.txt  updateFirefox.py
finishNewSystemBuild.sh              profiles.ini                 updateTeacher.py
finishUpdateSystemBuild.sh           programmingTips.txt          venv

[master@main-server] ~/CodeDevelopment/newSystemBuild 
❯ sudo cp -p /media/master  
cp: missing destination file operand after '/media/master'
Try 'cp --help' for more information.

[master@main-server] ~/CodeDevelopment/newSystemBuild 
❯ ls /media/master                                                                                ⏎
Samsung USB

[master@main-server] ~/CodeDevelopment/newSystemBuild 
❯ sudo cp -p /media/master/Samsung\ USB/MicroInterfaceConfig/Version1CodeandFiles/configureMicroNetworkInterfaces.py .

[master@main-server] ~/CodeDevelopment/newSystemBuild 
❯ ls
classCopyByChecksum.py               __init__.py                  rebuildServerPart1.py
cleanupForInstall.sh                 installs.ini                 rebuildServerPart2.py
configureMicroNetworkInterfaces.py   interfaceBuildPlanning.vym   sd_only
configureNetworkInterfaces.py        interfacesFiles              serverBuildLib.py
configureWirelessInternet.py         localFunctions.py            setupForPimaryOrSecondary.py
copyByChecksum.py                    makeServer.py                tester.py
copyToAllOS.py                       multiprocessing              ud.sh
createAllNumberedTeacherAccounts.sh  obsolete                     updateFirefox.py
EFI                                  persistent_net_template.txt  updateTeacher.py
findNewerDisk.py                     profiles.ini                 venv
finishNewSystemBuild.sh              programmingTips.txt
finishUpdateSystemBuild.sh           __pycache__

[master@main-server] ~/CodeDevelopment/newSystemBuild 
❯ sudo python3 configureMicroNetworkInterfaces.py 

    Please wait while shutting down the bond0 interface.

I have found 2 network interfaces.
    Ethernet interfaces: 2

The two ethernet interfaces will use one for the internet and one for the lab.

The ethernet interfaces will need to be identified by plugging each ethernet 
interface to an ethernet cable that is connected to either an ethernet switch 
or another computer that is turned on. 
The test is only used to detect power on the ethernet connection port so the 
switch does not need to be connected to anything else or the other computer 
just needs to be turned on.
Do you have these things available now?
  yes / no
yes


---------------------------------------------------------------------------
Identify the ethernet interface that will be "labwifi", the USB ethernet 
adapter will be connected to the Reneal wireless router.
    Hit enter when you have done this.
>>>

OK, now unplug the cable.
    Hit enter when you have done this.
>>>

The remaining interface has been automatically configured as lab1.

All interfaces are now configured.


All interfaces are now configured.


    The network configuration was not completed successfully.
    Failed to set the appropriate link for the /etc/network/interfaces configuration file.
    System reported Error: [Errno 17] File exists: '/etc/network/interfaces.micro_labwifi' -> '/etc/network/interfaces'.
            

>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>><<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
    Now you can connect the Reneal wireless router to the LAN connection on the USB dongle.    
    Next, connect the cables from the LAN connection on the computer to the network switch.
    
    Finally, reboot the server and you will be ready to go.


[master@main-server] ~/CodeDevelopment/newSystemBuild 
❯ cat /etc/udev/rules.d/70-persistent-net.rules
#This file has been written by configureMicroNetworkInterfaces.py at 2025-09-23T12:00:05


# Interface name lab1
SUBSYSTEM=="net", ACTION=="add", DRIVERS=="?*", ATTR{address}=="d8:9e:f3:97:19:30", ATTR{dev_id}=="0x0", ATTR{type}=="1", NAME="lab1"
#------------------------------------------------------"

# Interface name labwifi
SUBSYSTEM=="net", ACTION=="add", DRIVERS=="?*", ATTR{address}=="a0:ce:c8:b9:5a:72", ATTR{dev_id}=="0x0", ATTR{type}=="1", NAME="labwifi"
#------------------------------------------------------"

[master@main-server] ~/CodeDevelopment/newSystemBuild 
❯ cd /etc/network

[master@main-server] /etc/network 
❯ ls -l
total 60
drwxr-xr-x 2 root root 4096 Oct 29  2021 if-down.d
drwxr-xr-x 2 root root 4096 Oct 29  2021 if-post-down.d
drwxr-xr-x 2 root root 4096 Oct 13  2021 if-pre-up.d
drwxr-xr-x 2 root root 4096 Oct 29  2021 if-up.d
lrwxrwxrwx 1 root root   25 Sep 12  2024 interfaces -> interfaces.ethernet_bond2
drwxr-xr-x 2 root root 4096 Jan 24  2016 interfaces.d
-rw-r--r-- 1 root root   32 Apr 28  2016 interfaces.empty
-rw-rw-r-- 1 root root  491 Aug 27  2018 interfaces.ethernet_bond1
-rw-r--r-- 1 root root  777 Sep 12  2024 interfaces.ethernet_bond2
-rw-r--r-- 1 root root  777 Sep 12  2024 interfaces.ethernet_labwifi
-rw-r--r-- 1 root root  614 Sep 11  2024 interfaces.manual_bond2
-rw-r--r-- 1 root root  408 Oct  6  2018 interfaces.no_internet_bond1
-rw-r--r-- 1 root root  465 Oct  6  2018 interfaces.no_internet_bond2
-rw-r--r-- 1 root root  550 Apr 29  2019 interfaces.wireless_bond1
-rw-r--r-- 1 root root  607 Apr 29  2019 interfaces.wireless_bond2
-rw-r--r-- 1 root root  638 Oct 29  2021 template_interfaces.manual_bond2

[master@main-server] /etc/network 
❯ sudo cp -p /media/master/Samsung\ USB/MicroInterfaceConfig/Version1CodeandFiles/interfaces.micro_labwifi .

[master@main-server] /etc/network 
❯ cat interfaces.micro_labwifi 
auto lo
iface lo inet loopback

#labwifi interface
iface labwifi inet static
address 192.168.201.253
allow-hotplug labwifi

#internal slave interfaces

auto lab1
iface lab1 inet manual
bond-master bond0

#internal bonded interface

auto bond0
iface bond0 inet static
mtu 9000
address 192.168.2.1
netmask 255.255.255.0
network 192.168.2.0
broadcast 192.168.0.255
bond-miimon 100
bond-mode balance-xor
bond-slaves lab1

up ip link set labwifi promisc on
down ip link set labwifi promisc off

#static route for multicast for streming
up ip route add 232.43.0.0/16 dev bond0

[master@main-server] /etc/network 
❯ cd /etc/shorewall           

[master@main-server] /etc/shorewall 
❯ ls
conntrack        interfaces.ethernet_bond1    interfaces.laptop             interfaces.std             masq                 masq.ethernet_labwifi   masq.single          params       shorewall.conf  zones
init             interfaces.ethernet_bond2    interfaces.no_internet_bond1  interfaces.wireless_bond1  masq.bond            masq.laptop             masq.std             policy       start
interfaces       interfaces.ethernet_hs       interfaces.no_internet_bond2  interfaces.wireless_bond2  masq.ethernet_bond1  masq.no_internet_bond1  masq.wireless_bond1  rules        stop
interfaces.bond  interfaces.ethernet_labwifi  interfaces.single             Makefile                   masq.ethernet_bond2  masq.no_internet_bond2  masq.wireless_bond2  rules.ports  tunnels

[master@main-server] /etc/shorewall 
❯ ls -l
total 288
-rw-r----- 1 root root   960 Jan 22  2016 conntrack
-rw-r--r-- 1 root root   394 Feb  3  2019 init
lrwxrwxrwx 1 root root    40 Sep  8  2024 interfaces -> /etc/shorewall/interfaces.ethernet_bond2
-rw-r--r-- 1 root root  8178 Oct  2  2018 interfaces.bond
-rw-r--r-- 1 root root  8160 Oct 14  2018 interfaces.ethernet_bond1
-rw-r--r-- 1 root root  8242 Aug 26  2024 interfaces.ethernet_bond2
-rw-r--r-- 1 root root  8237 Mar 14  2024 interfaces.ethernet_hs
-rw-r--r-- 1 root root  8242 Aug 26  2024 interfaces.ethernet_labwifi
-rw-r--r-- 1 root root  8195 Oct 17  2014 interfaces.laptop
-rw-r--r-- 1 root root  8139 Oct 14  2018 interfaces.no_internet_bond1
-rw-r--r-- 1 root root  8139 Oct 14  2018 interfaces.no_internet_bond2
-rw-r--r-- 1 root root  8162 Mar  3  2015 interfaces.single
-rw-r--r-- 1 root root  8164 Sep  1  2016 interfaces.std
-rw-r--r-- 1 root root  8161 Oct 13  2021 interfaces.wireless_bond1
-rw-r--r-- 1 root root  8160 Apr 29  2019 interfaces.wireless_bond2
-rw-r--r-- 1 root root   512 Dec 13  2011 Makefile
lrwxrwxrwx 1 root root    34 Sep  8  2024 masq -> /etc/shorewall/masq.ethernet_bond2
-rw------- 1 root root  7783 Oct  2  2018 masq.bond
-rw------- 1 root root  7769 Oct 14  2018 masq.ethernet_bond1
-rw------- 1 root root  7769 Oct 14  2018 masq.ethernet_bond2
-rw------- 1 root root  7769 Aug 25  2024 masq.ethernet_labwifi
-rw------- 1 root root  7764 Oct 17  2014 masq.laptop
-rw------- 1 root root  7770 Oct 14  2018 masq.no_internet_bond1
-rw------- 1 root root  7770 Oct 14  2018 masq.no_internet_bond2
-rw------- 1 root root  7767 Sep  1  2016 masq.single
-rw------- 1 root root  7767 Sep  1  2016 masq.std
-rw------- 1 root root  7764 Mar  4  2019 masq.wireless_bond1
-rw------- 1 root root  7764 Apr 29  2019 masq.wireless_bond2
-rw-r----- 1 root root   623 Jan 22  2016 params
-rw------- 1 root root  4173 Aug 26  2024 policy
-rw------- 1 root root 17740 Aug 26  2024 rules
-rw------- 1 root root 17907 Aug 26  2024 rules.ports
-rw-r--r-- 1 root root  4302 Jan 30  2024 shorewall.conf
-rw-r--r-- 1 root root   140 Feb  3  2019 start
-rw-r--r-- 1 root root   394 Feb  3  2019 stop
-rw-r--r-- 1 root root   165 Jan 20  2023 tunnels
-rw------- 1 root root  3983 Aug 26  2024 zones

[master@main-server] /etc/shorewall 
❯ sudo cp -p /media/master/Samsung\ USB/MicroInterfaceConfig/Version1CodeandFiles/shorewall\ files/interfaces.micro_labwifi .

[master@main-server] /etc/shorewall 
❯ sudo cp -p /media/master/Samsung\ USB/MicroInterfaceConfig/Version1CodeandFiles/shorewall\ files/masq.micro_labwifi .      

[master@main-server] /etc/shorewall 
❯ ls
conntrack                  interfaces.ethernet_bond2    interfaces.no_internet_bond1  interfaces.wireless_bond2  masq.ethernet_bond2     masq.no_internet_bond2  params          start
init                       interfaces.ethernet_hs       interfaces.no_internet_bond2  Makefile                   masq.ethernet_labwifi   masq.single             policy          stop
interfaces                 interfaces.ethernet_labwifi  interfaces.single             masq                       masq.laptop             masq.std                rules           tunnels
interfaces.bond            interfaces.laptop            interfaces.std                masq.bond                  masq.micro_labwifi      masq.wireless_bond1     rules.ports     zones
interfaces.ethernet_bond1  interfaces.micro_labwifi     interfaces.wireless_bond1     masq.ethernet_bond1        masq.no_internet_bond1  masq.wireless_bond2     shorewall.conf

[master@main-server] /etc/shorewall 
❯ cd ~/CodeDevelopment/newSystemBuild                                                                                        

[master@main-server] ~/CodeDevelopment/newSystemBuild 
❯ ls
classCopyByChecksum.py              copyByChecksum.py                    finishNewSystemBuild.sh     interfacesFiles    persistent_net_template.txt  rebuildServerPart2.py         ud.sh
cleanupForInstall.sh                copyToAllOS.py                       finishUpdateSystemBuild.sh  localFunctions.py  profiles.ini                 sd_only                       updateFirefox.py
configureMicroNetworkInterfaces.py  createAllNumberedTeacherAccounts.sh  __init__.py                 makeServer.py      programmingTips.txt          serverBuildLib.py             updateTeacher.py
configureNetworkInterfaces.py       EFI                                  installs.ini                multiprocessing    __pycache__                  setupForPimaryOrSecondary.py  venv
configureWirelessInternet.py        findNewerDisk.py                     interfaceBuildPlanning.vym  obsolete           rebuildServerPart1.py        tester.py

[master@main-server] ~/CodeDevelopment/newSystemBuild 
❯ sudo python3 configureMicroNetworkInterfaces.py 

    Please wait while shutting down the bond0 interface.

I have found 2 network interfaces.
    Ethernet interfaces: 2

The two ethernet interfaces will use one for the internet and one for the lab.

The ethernet interfaces will need to be identified by plugging each ethernet 
interface to an ethernet cable that is connected to either an ethernet switch 
or another computer that is turned on. 
The test is only used to detect power on the ethernet connection port so the 
switch does not need to be connected to anything else or the other computer 
just needs to be turned on.
Do you have these things available now?
  yes / no
yes


---------------------------------------------------------------------------
Identify the ethernet interface that will be "labwifi", the USB ethernet 
adapter will be connected to the Reneal wireless router.
    Hit enter when you have done this.
>>>

OK, now unplug the cable.
    Hit enter when you have done this.
>>>

The remaining interface has been automatically configured as lab1.

All interfaces are now configured.


All interfaces are now configured.


>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>><<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
    Now you can connect the Reneal wireless router to the LAN connection on the USB dongle.    
    Next, connect the cables from the LAN connection on the computer to the network switch.
    
    Finally, reboot the server and you will be ready to go.


[master@main-server] ~/CodeDevelopment/newSystemBuild 
❯ cd /etc/network

[master@main-server] /etc/network 
❯ ls
if-down.d       if-up.d       interfaces.empty           interfaces.ethernet_labwifi  interfaces.no_internet_bond1  interfaces.wireless_bond2
if-post-down.d  interfaces    interfaces.ethernet_bond1  interfaces.manual_bond2      interfaces.no_internet_bond2  template_interfaces.manual_bond2
if-pre-up.d     interfaces.d  interfaces.ethernet_bond2  interfaces.micro_labwifi     interfaces.wireless_bond1

[master@main-server] /etc/network 
❯ ls -l
total 64
drwxr-xr-x 2 root   root   4096 Oct 29  2021 if-down.d
drwxr-xr-x 2 root   root   4096 Oct 29  2021 if-post-down.d
drwxr-xr-x 2 root   root   4096 Oct 13  2021 if-pre-up.d
drwxr-xr-x 2 root   root   4096 Oct 29  2021 if-up.d
lrwxrwxrwx 1 root   root     37 Sep 23 12:08 interfaces -> /etc/network/interfaces.micro_labwifi
drwxr-xr-x 2 root   root   4096 Jan 24  2016 interfaces.d
-rw-r--r-- 1 root   root     32 Apr 28  2016 interfaces.empty
-rw-rw-r-- 1 root   root    491 Aug 27  2018 interfaces.ethernet_bond1
-rw-r--r-- 1 root   root    777 Sep 12  2024 interfaces.ethernet_bond2
-rw-r--r-- 1 root   root    777 Sep 12  2024 interfaces.ethernet_labwifi
-rw-r--r-- 1 root   root    614 Sep 11  2024 interfaces.manual_bond2
-rw-r--r-- 1 master master  571 Sep 17 07:28 interfaces.micro_labwifi
-rw-r--r-- 1 root   root    408 Oct  6  2018 interfaces.no_internet_bond1
-rw-r--r-- 1 root   root    465 Oct  6  2018 interfaces.no_internet_bond2
-rw-r--r-- 1 root   root    550 Apr 29  2019 interfaces.wireless_bond1
-rw-r--r-- 1 root   root    607 Apr 29  2019 interfaces.wireless_bond2
-rw-r--r-- 1 root   root    638 Oct 29  2021 template_interfaces.manual_bond2

[master@main-server] /etc/network 
❯ cat interfaces
auto lo
iface lo inet loopback

#labwifi interface
iface labwifi inet static
address 192.168.201.253
allow-hotplug labwifi

#internal slave interfaces

auto lab1
iface lab1 inet manual
bond-master bond0

#internal bonded interface

auto bond0
iface bond0 inet static
mtu 9000
address 192.168.2.1
netmask 255.255.255.0
network 192.168.2.0
broadcast 192.168.0.255
bond-miimon 100
bond-mode balance-xor
bond-slaves lab1

up ip link set labwifi promisc on
down ip link set labwifi promisc off

#static route for multicast for streming
up ip route add 232.43.0.0/16 dev bond0

[master@main-server] /etc/network 
❯ cd ~/CodeDevelopment/newSystemBuild            

[master@main-server] ~/CodeDevelopment/newSystemBuild 
❯ cd /media/master/RENEALVPN/NewWireguardFiles 

[master@main-server] /media/master/RENEALVPN/NewWireguardFiles 
❯ ls -l
total 96
-rw-r--r-- 1 master master  1896 Apr  2  2021 install_info_wireguard.py
drwxr-xr-x 7 master master 32768 Apr  2  2021 wg0
drwxr-xr-x 7 master master 32768 Apr  2  2021 wg1

[master@main-server] /media/master/RENEALVPN/NewWireguardFiles 
❯ sudo python3 install_info_wireguard.py 
At Install:Enter school name: reneal_team

[master@main-server] /media/master/RENEALVPN/NewWireguardFiles 
❯ cd /etc/wireguard 
cd: permission denied: /etc/wireguard

[master@main-server] /media/master/RENEALVPN/NewWireguardFiles 
❯ ls                                                                                                                                                                                                             ⏎
install_info_wireguard.py  wg0  wg1

[master@main-server] /media/master/RENEALVPN/NewWireguardFiles 
❯ sudo ls -l /etc/wireguard 
total 8
-rw-r--r-- 1 master master 362 Apr  2  2021 wg0.conf
-rw-r--r-- 1 master master 362 Apr  2  2021 wg1.conf

[master@main-server] /media/master/RENEALVPN/NewWireguardFiles 
❯ 
